<!DOCTYPE html>
<html>

<head>
    <script src='lib/react.development.js'></script>
    <script src='lib/react-dom.development.js'></script>

    <script type='application/javascript'>
        navigator.serviceWorker.register('./sw.js')

        navigator.serviceWorker.ready.then((registration) => {
            // FIXME for some reason the ready promises resolves too early, below setTimeout is a really stupid hack, delaying 10ms likely still fails on slower devices
            //       https://stackoverflow.com/questions/68781638/service-worker-serviceworker-ready-event-waituntil-not-orchestrating-as-expec
            setTimeout(() => {
                script = document.createElement('script')
                script.setAttribute('src', 'main.jsx')
                script.type = 'module'
                document.head.appendChild(script)
            }, 10)
        })
    </script>
</head>

<body>
    <div id="react-root">

    </div>
</body>

</html>
